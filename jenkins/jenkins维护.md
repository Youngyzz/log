# Jenkins维护
一般情况下，我们都只是简单的使用一个软件，例如保证他运行起来，就不管了。这样其实在后期是会出问题的，如果到时出现问题再解决问题，必然会拖项目进度，所以为了保证我们的程序能够健壮的运行，我们需要从部署到维护进行系统的学习。

在Jenkins中需要降低如下失败风险：
* 新插件导致异常：现在插件很多也容易安装，但是安装的插件缺陷却难发现。所以我们需要考虑在关键系统上使用新插件时，先用测试的Jenkins实例进行测试。
* artifacts存储溢出：如果你保留的历史构建包含了artifact（如war文件，大量Jar文件或其他二进制文件和源代码），那么会以惊人的速度消耗你的存储空间。存储虽然可以大量的降低，但是使用存储相当于更多的备份时间和更多的通信，为了最小化磁盘溢出，你需要考虑你的备份和恢复策略和相关的构建滞留策略（任务高级选项）。
* script Spaghetti：任务由各个开发团队编写，脚本的放置位置和风格也不同。这样就会使你很难跟踪。你需要考虑一个预定义好的脚本存储位置和一个脚本仓库（插件管理）。
* 资源损耗： 密集的任务会消耗内存，导致Jenkins变慢。适当的监控和快速反应来减少影响。
* 任务之间缺乏一致性：由于Jenkins脚本很多，如果没有一致性策略，你的团队会引入大量的插件（其实这些插件很多都执行的相同的功能）。事先约定能够提高一致性和任务可读性，进而减少维护成本。

# 使用一个测试的jenkins实例
在发布一个插件到你的Jenkins生产服务器上之前，把该插件部署到一个测试的Jenkins实例是很值得的，然后设置并运行你的系统。
有很多方式建立一个测试实例，一种是使用一个Ubuntu的虚拟镜像然后共享工作目录到宿主服务器上，这种方法有很多好处：
1. 保存状态：在任何时刻，你都可以保存运行状态，然后回到那个状态。
2. 能够共享镜像：你可以在任何地方运行你的镜像。
3. 可以使用不同的操作系统：
4. 交换工作空间：交换空间在宿主机上，你可以就用该工作空间，测试不同版本的操作系统，而且还可以针对不同版本的Jenkins进行测试（不同的插件组合）。
5. 测试实例的标准设低一些，这样通过使测试实例挨饿，你可以暴露特定类型的问题，例如，内存泄漏。
